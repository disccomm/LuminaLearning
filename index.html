<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Scholar | Study Library</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/4.0.379/pdf.min.mjs" type="module"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-layout">
        <aside class="sidebar">
            <div class="brand">LUMINA</div>
            <nav id="library-list">
                </nav>
            <div class="sidebar-footer">
                <button onclick="UI.toggleModal('add')" class="btn-main"><i class="fas fa-plus"></i> New Book</button>
                <button onclick="UI.toggleModal('reset')" class="btn-danger-icon"><i class="fas fa-trash"></i> Purge All</button>
            </div>
        </aside>

        <main class="content">
            <div id="empty-state" class="empty-state">
                <i class="fas fa-book-open"></i>
                <h1>Your Library is Empty</h1>
                <p>Upload a study PDF to generate custom flashcards and quizzes.</p>
            </div>

            <div id="study-suite" class="study-suite hidden">
                <header class="suite-header">
                    <h2 id="active-title">Book Title</h2>
                    <div class="mode-tabs">
                        <button class="tab active" id="t-quiz" onclick="Core.setMode('quiz')">Quiz</button>
                        <button class="tab" id="t-cards" onclick="Core.setMode('cards')">Flashcards</button>
                        <button class="tab" id="t-sheet" onclick="Core.setMode('sheet')">Study Sheet</button>
                    </div>
                </header>
                <div id="stage" class="stage"></div>
                <footer class="stage-footer">
                    <button id="next-btn" class="btn-next hidden" onclick="Core.next()">Next Item <i class="fas fa-arrow-right"></i></button>
                </footer>
            </div>
        </main>
    </div>

    <div id="modal-add" class="modal hidden">
        <div class="modal-card">
            <h2>Add Study Material</h2>
            <input type="text" id="book-name" placeholder="Name (e.g. Biology 101)">
            <div class="upload-zone" onclick="document.getElementById('file-input').click()">
                <i class="fas fa-file-upload"></i>
                <p id="file-label">Select PDF Document</p>
            </div>
            <input type="file" id="file-input" class="hidden" accept="application/pdf">
            <button id="process-btn" class="btn-main full" onclick="Core.process()">Generate Study Guide</button>
            <button onclick="UI.toggleModal('add')" class="btn-text">Cancel</button>
        </div>
    </div>

    <div id="modal-reset" class="modal hidden">
        <div class="modal-card">
            <h2>Clear Library?</h2>
            <p>This will delete all saved books and generated study content.</p>
            <button class="btn-danger full" onclick="Core.purge()">Delete Everything</button>
            <button onclick="UI.toggleModal('reset')" class="btn-text">Cancel</button>
        </div>
    </div>

    <script type="module" src="app.js"></script>
</body>
</html>